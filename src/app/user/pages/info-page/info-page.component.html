<app-home-content>
    <div main-top class="title">
        <div nz-icon nzType="arrow-left" nzTheme="outline" class="back"></div>
        <div class="user-info-top">
            <div class="username">{{userInfo.USERNAME}}</div>
            <div class="yun-number">0文章</div>
        </div>
    </div>
    <div main-top class="main-content">
        <div class="user-info-top">
            <img src="../../../../assets/OIP.jpeg" *ngIf="backgroundImg" class="backgroundImg">
            <div *ngIf="isPath" class="backgroundImg"></div>
            <div class="avatar" *ngIf="isPath">
                <img [src]="avatarImgBase64" alt="">
            </div>
            <div *ngIf="!isPath" class="avatar tm" [ngStyle]='{"background-color":userInfo.AVATAR_COLOR}'>
                {{userInfo.USERNAME | getInitials}}
            </div>
            <div class="edit-info" (click)="isEdit=true">
                <div class="edit-info-button">编辑个人资料</div>
            </div>
        </div>
        <div class="user-info">
            <div class="username">{{userInfo.USERNAME}}</div>
            <div class="account">@{{userInfo.ACCOUNT_ADDRESS}}</div>
            <div class="registration-time">注册时间：{{userInfo.RELEASE_TIME | date:'MM月dd日' }}</div>
            <div class="follow">
                <div class="followers">关注者 {{userInfo.follows}}</div>
                <div class="followed">正在关注 {{userInfo.followed}}</div>
            </div>
        </div>
    </div>
</app-home-content>

<div class="wrap" *ngIf="isEdit">
    <app-center-box (click)="stopPropagation($event)">
        <div top>
            <div>
                <span nz-icon nzType="close" nzTheme="outline" class="close"></span>
            </div>
            <div class="title">编辑个人资料</div>
            <button (click)="onSubmit()" class="button">保存</button>
        </div>
        <div main>
            <app-background-upload class="background-color"></app-background-upload>

            <app-avatar-upload [avatarColor]="this.userInfo.AVATAR_COLOR" class="avatar"></app-avatar-upload>

            <form [formGroup]="form">
                <label for="intro">个人简介</label>
                <input type="text" formControlName="intro">

            </form>
        </div>


    </app-center-box>
</div>